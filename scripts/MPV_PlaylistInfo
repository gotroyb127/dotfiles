#!/bin/sh

Print() {
	s=$(Player.sh playlist-info) || return $?
	clear
	printf "%s" "$s"
}
Read() {
	printf '\n%s' 'Waiting... : '
	read cmd
	case $cmd in
	(q*)
		exit 0
	;;
	(c*)
		clear
	;;
	(r*)
		exec "$0" "$@"
	;;
	esac
}
Main() {
	Print
	while sleep .93
	do
		Print || Read
	done
}

trap 'Read; Main' INT

Main
