#!/bin/sh

xdotool getactivewindow windowsize 1260 31 windowmove 255 -3

case "$1" in
(-a)
	All=Yes
	shift
;;
esac

Fifo=${1:-${TMPDIR-/tmp}/sblocks.$DISPLAY.fifo}

sleep .01
COLS=$(tput cols)

kill -USR1 $(pidof sblocks)
sleep .1

while read l
do
	if [ -z "$All" ]
	then
		l=${l%  *}
		l=${l%  *}
	fi
	printf "\n%${COLS}s" "$l  "
done < "$Fifo"
