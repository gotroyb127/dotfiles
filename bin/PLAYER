#!/bin/sh

mw=1920
mh=1080

xdotool getactivewindow windowsize $((2 * mw / 3)) 30 windowmove $((mw / 6)) -3

all=
[ "X$1" = X-a ] && {
	all=Yes
	shift
}

sleep .1
COLS=$(tput cols)

if [ -z "$all" ]
then
	c=$(printf '\1')
	readlns() {
		while read -r l
		do
			l=${l#$c}
			l=${l%%$c*}
			printf "\n%${COLS}s " "$l"
		done
	}
else
	readlns() {
		while read -r l
		do
			printf "\n%${COLS}s " "$l"
		done
	}
fi

xwrtnm | readlns
