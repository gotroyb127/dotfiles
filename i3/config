# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
# see https://i3wm.org/docs/userguide.html for a complete reference!

# i3 config file (v4)

set $mod Mod4

# Font for window titles also used by the bar unless a different font is used in it's block
font pango:DejaVu Sans Mono 7


set $i3blocks_signal1 pkill -RTMIN+1 i3blocks
bindsym XF86AudioRaiseVolume exec --no-startup-id amixer -M set Master 5%+ && $i3blocks_signal1
bindsym XF86AudioLowerVolume exec --no-startup-id amixer -M set Master 5%- && $i3blocks_signal1
bindsym XF86AudioMute exec --no-startup-id amixer set Master toggle && $i3blocks_signal1

bindsym $mod+F8 exec --no-startup-id amixer -M set Master 5%+ && $i3blocks_signal1
bindsym $mod+F6 exec --no-startup-id amixer -M set Master 5%- && $i3blocks_signal1
bindsym $mod+F7 exec --no-startup-id amixer set Master toggle && $i3blocks_signal1

#bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $i3blocks_signal1

bindsym $mod+Shift+F6 exec --no-startup-id amixer -M set Master 15%- && $i3blocks_signal1
bindsym Shift+XF86AudioLowerVolume exec --no-startup-id amixer -M set Master 15%- && $i3blocks_signal1
#
bindsym $mod+Shift+F8 exec --no-startup-id amixer set Master 15%+ && $i3blocks_signal1
bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id amixer -M set Master 15%+ && $i3blocks_signal1
#
bindsym $mod+Shift+F7 exec --no-startup-id amixer -M set Master 70% && $i3blocks_signal1
bindsym Shift+XF86AudioMute exec --no-startup-id amixer -M set Master 70% && $i3blocks_signal1


# Use playerctl to control media player
set $RefreshPlayer pkill -RTMIN+3 i3blocks

bindsym $mod+Shift+F9 exec --no-startup-id playerctl previous && $RefreshPlayer
bindsym Shift+XF86AudioPrev exec --no-startup-id playerctl previous && $RefreshPlayer

bindsym XF86AudioPrev exec --no-startup-id playerctl position 5- && $RefreshPlayer
bindsym $mod+F9 exec --no-startup-id playerctl position 5- && $RefreshPlayer

bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause && $RefreshPlayer
bindsym $mod+F10 exec --no-startup-id playerctl play-pause && $RefreshPlayer

bindsym XF86AudioNext exec --no-startup-id playerctl position 5+ && $RefreshPlayer
bindsym $mod+F11 exec --no-startup-id playerctl position 5+ && $RefreshPlayer

bindsym $mod+Shift+F11 exec --no-startup-id playerctl next && $RefreshPlayer
bindsym Shift+XF86AudioNext exec --no-startup-id playerctl next && $RefreshPlayer


# refresh keyboard-layout block
bindcode Mod1+50 exec --no-startup-id pkill -RTMIN+2 i3blocks

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
#bindsym $mod+Return exec i3-sensible-terminal
bindsym $mod+Return exec termite

# kill focused window
bindsym $mod+q kill

# start xfce4-appfinder (a program launcher)
bindsym $mod+d exec xfce4-appfinder
bindsym $mod+Shift+d exec dmenu_run -l 20

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# move focused window
bindsym $mod+Shift+h move left 35
bindsym $mod+Shift+j move down 35
bindsym $mod+Shift+k move up 35
bindsym $mod+Shift+l move right 35

# alternatively, you can use the cursor keys:
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# split in horizontal orientation
#bindsym $mod+h split h
# split in vertical orientation
#bindsym $mod+v split v

# toggle between vertical & horizontal split
bindsym $mod+r split toggle

# enter fullscreen mode for the focused container
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+Shift+w layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+space floating toggle

# change focus between tiling / floating windows
bindsym $mod+space focus mode_toggle
# focus the parent container
bindsym $mod+a focus parent
# focus the child container
bindsym $mod+Shift+a focus child

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
# 
set $ws1 "1α"
set $ws2 "2β"
set $ws3 "3γ"
set $ws4 "4δ"
set $ws5 "5ε"
set $ws6 "6στ"
set $ws7 "7ζ"
set $ws8 "8η"
set $ws9 "9θ"
set $ws10 "10ι"
set $ws0 "11"

# switch to workspace
bindsym $mod+grave workspace number $ws0
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10


# move focused container to workspace
bindsym $mod+Shift+grave move container to workspace number $ws0
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

#workspace_auto_back_and_forth yes
bindsym $mod+Tab workspace back_and_forth
bindsym $mod+Shift+Tab move container to workspace back_and_forth


bindsym $mod+Ctrl+l workspace next
bindsym $mod+Ctrl+h workspace prev
bindsym $mod+Ctrl+Shift+l move container to workspace next
bindsym $mod+Ctrl+Shift+h move container to workspace prev

bindsym $mod+Ctrl+Right workspace next
bindsym $mod+Ctrl+Left workspace prev
bindsym $mod+Ctrl+Shift+Right move container to workspace next
bindsym $mod+Ctrl+Shift+Left move container to workspace prev


bindsym $mod+m exec i3-input -F 'mark --toggle %s' -l 1 -P 'Mark: '
bindsym $mod+Shift+m exec i3-input -F '[con_mark="%s"] move to workspace current' -l 1 -P 'Bring here window with mark: '
bindsym $mod+g exec i3-input -F '[con_mark="%s"] focus' -l 1 -P 'Goto: '
bindsym $mod+Shift+g exec i3-input -F 'move container to mark %s' -l 1 -P 'Move to mark: '

bindsym $mod+z exec i3-input -F 'exec termite -e %s' -P 'Command to exec: '
bindsym $mod+Shift+z exec i3-input -F '%s' -P 'i3-msg '

# invert screen colors
bindsym $mod+Shift+Ctrl+c exec --no-startup-id xcalib -i -a
bindsym $mod+Ctrl+c exec --no-startup-id xcalib -o 1# -i -a

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart

#- - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  Binding Modes  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

# !_____________ Power Management ________________!
set $Reboot systemctl reboot
set $PowerOff systemctl poweroff
set $Hibernate systemctl hibernate
set $Suspend systemctl suspend
set $Exit i3-msg exit
set $LockScreen i3lock -p default -i ~/Pictures/lockA.png
set $LockScreen2 i3lock -p default -i ~/Pictures/lockB.png
set $BlankScreen sleep 0.5 && xset s activate

set $ShutMode "Options: [r]eboot, [p]oweroff, [h]ibernate, [s]uspend, [e]xit, [l]ock screen"

mode $ShutMode {
	bindsym r       mode "default", exec --no-startup-id $Reboot
	bindsym p       mode "default", exec --no-startup-id $PowerOff
	bindsym h       mode "default", exec --no-startup-id $LockScreen2 && $BlankScreen && $Hibernate
	bindsym s       mode "default", exec --no-startup-id $LockScreen && $Suspend
	bindsym Shift+s mode "default", exec --no-startup-id $Suspend
	bindsym e       mode "default", exec --no-startup-id $Exit
	bindsym l       mode "default"; exec --no-startup-id $LockScreen && $BlankScreen
	bindsym Shift+l mode "default"; exec --no-startup-id $BlankScreen
	bindsym Escape  mode "default"
	bindsym mod1+F4 mode "default"
}


bindsym mod1+F4 mode $ShutMode


# !------------- Resize Mode -------------!
bindsym $mod+y resize shrink width 5 px or 5 ppt
bindsym $mod+i resize grow height 5 px or 5 ppt
bindsym $mod+u resize shrink height 5 px or 5 ppt
bindsym $mod+o resize grow width 5 px or 5 ppt

# ------------- Launch_mode ------------- 
set $LauncherMode "Launch"
bindsym $mod+x mode $LauncherMode

mode $LauncherMode {
	# Launch mode shortcuts
	bindsym w       mode "default", exec firefox
	bindsym Shift+w mode "default", exec firefox --private-window
	bindsym a       mode "default", exec firefox -P
	bindsym Shift+a mode "default", exec firefox -P --private-window
	bindsym s       mode "default", exec firefox-developer-edition
	bindsym Shift+s mode "default", exec firefox-developer-edition --private-window
	bindsym q       mode "default", exec firefox-developer-edition -P
	bindsym f       mode "default", exec thunar
	bindsym v       mode "default", workspace $ws0, exec termite -e "ranger /home/pintus/Music"
#	bindsym v       mode "default", workspace $ws0, exec --no-startup-id vlc
	bindsym g       mode "default", exec geany
	bindsym Shift+g mode "default", exec gvim
	bindsym c       mode "default", exec termite -e ranger
	bindsym Shift+c       mode "default", exec termite -e nnn
#	bindsym c       mode "default", exec termite -e vifm
	bindsym z       mode "default", exec zathura
	
	# return to defautl mode
	bindsym Escape mode "default"
	bindsym $mod+x mode "default"
}


# ---------- Change Bar's display mode ----------
set $BarMode "Set bar's display mode: [d]ock, [h]ide, [i]nvisible"

mode $BarMode {
	bindsym h bar mode hide, mode "default"
	bindsym d bar mode dock, mode "default"
	bindsym i bar mode invisible, mode "default"
	bindsym Escape mode "default"
	bindsym $mod+Shift+b mode "default"
}

bindsym $mod+Shift+b mode $BarMode


# ---------- Launch bar's things ----------
set $BarLaunch "Launch from bar: [c]opyq, [g]siplecal [s]oundControl"

mode $BarLaunch {
	bindsym g exec gsimplecal, mode "default"
	bindsym c exec copyq toggle, mode "default"
	bindsym s exec exec pavucontrol, mode "default"
	bindsym Escape mode "default"
	bindsym $mod+b mode "default"
}

bindsym $mod+b mode $BarLaunch

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)

bar {
	colors {
		background #000000
#		background #FFFFFF09
#		background #FFFFFF20
		statusline $White
		separator #6477B5
		
#		colorclasss          border    backgound  text
		inactive_workspace   #FFFFFF30 #FFFFFF10  $Grey
		focused_workspace    #FFFFFF30 #0404044F  $White
#		focused_workspace    #FFFFFF30 $Purple    $White
		urgent_workspace     #F00000F0 #F0000070  $White
		binding_mode         $InkPot   $InkPot    $White
	}
#	mode hide
	strip_workspace_numbers yes
	position top
	tray_padding 0
	separator_symbol "  "
	i3bar_command i3bar --transparency
	status_command i3blocks -c ~/.config/i3/i3blocks/i3blocks.conf
	font pango:DejaVu Sans Book 7
}



# -- Toggle sticky status !!: works only with floating windows --
bindsym $mod+s sticky toggle

#  -- Change focused window border style --
set $BorderPixels 2

assign [class="vlc"] $ws0

for_window [class=".*"] border pixel $BorderPixels
for_window [class="Gsimplecal"] border pixel $BorderPixels

for_window [class="Xfce4-appfinder"] floating enable
for_window [class="copyq"] floating enable

# |-_-||-_-||-_-||-_-||-_-||-_-| i3-gaps|-_-||-_-||-_-||-_-||-_-||-_-||-_-|


bindsym $mod+Ctrl+b border toggle 1
bindsym $mod+Ctrl+Shift+b border pixel $BorderPixels

#for_window [class=".*"] border pixel $BorderPixels
#gaps inner 7
#gaps outer -3
#gaps bottom -3

#bindsym $mod+Shift+y gaps inner all plus 1
#bindsym $mod+Ctrl+Shift+y gaps inner all minus 1
#bindsym $mod+Shift+u gaps outer all plus 1
#bindsym $mod+Ctrl+Shift+u gaps outer all minus 1


# Only enable gaps on a workspace when there is at least one container
#smart_gaps on

# ---- disable gaps ----
#bindsym $mod+Shift+g for_window [class=".*"] border normal; gaps inner 0; gaps outer 0
#bindsym $mod+Shift+g gaps inner all set 0; gaps outer all set 0
#bindsym $mod+g reload

#hide_edge_borders smart
#hide_edge_borders vertical


# ------------ Colors ------------- 

set $White   #ffffff
set $Black   #000000

set $Green   #1FF200
set $DGreen  #1A4D37
set $DDGreen #15241D

set $Yellow   #888404
set $DYellow  #8B7300
set $DDYellow #523F13

set $LOrange #EE9374
set $DOrange #7C4517
set $Red     #A90900

set $Pink    #DA887D

set $Bordo   #4F0022
set $DBordo  #311421
set $LBordo  #850039

set $Purple   #553369
set $DPurple  #380D63
set $LPurple  #8236AF
set $LLPurple #8664F7

set $LBlue  #419ABA
set $LLBlue #57CDF8
set $DBlue  #14466F

set $Grey  #FAFAFA
set $DGrey #BFBFBF

set $InkPot #1E1E27


# class                  border   backgr.   text    indicator child_border
#client.focused          $LLPurple $LLPurple $White  $LOrange  $LLPurple
#client.focused          $LBlue   $LBlue    $BLack  $LOrange  $LBlue
#client.unfocused        $DPurple  $DPurple  $DGrey  $LOrange  $DPurple
#client.focused_inactive $LPurple  $LPurple  $Grey   $LOrange  $LPurple
#client.urgent           $Red      $Red      $White  $LOrange  #900000
#client.placeholder      #000000  #0c0c0c   #FFFFFF $color2   #0c0c0c

#client.background       #FFFFFF

# class                  border   backgr.   text    indicator child_border
client.focused          #FFFFFF40 #FFFFFF40 $BLack  $LOrange  #FFFFFF90
client.unfocused        #00000040 #00000040 $DGrey  $LOrange  #00000090
client.focused_inactive #77777740 #77777740 $Grey   $LOrange  #77777790
client.urgent           #F0000050 #F0000050 $White  $LOrange  #F0000050


# Use shotgun to take a screenshot
bindsym Print exec --no-startup-id "dat=$(date +'%d-%m-%Y(%H:%M:%S)') && shotgun ~//Screenshots//$dat-screenshot.png"

exec --no-startup-id i3-msg workspace number $ws1; exec ~/.config/i3/start-apps.sh

exec 		--no-startup-id ~/.config/i3/start.sh
exec_always --no-startup-id ~/.config/i3/start_always.sh
#exec 						~/.config/i3/start-apps.sh

#exec --no-startup-id i3-msg workspace $ws1

#exec --no-startup-id unclutter --timeout 1
#exec --no-startup-id nm-applet
#exec_always --no-startup-id xcompmgr
#exec_always --no-startup-id feh --no-fehbg --bg-scale /usr/share/backgrounds/wallpaper27.jpg
